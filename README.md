# Школьная столовая - Система управления питанием

Веб-приложение для учёта и контроля питания в школьной столовой с поддержкой различных ролей пользователей.

## Основные функции

### Для ученика
- Регистрация и авторизация
- Просмотр меню завтраков и обедов
- Оплата питания (разовый платеж или абонемент)
- Отметка о получении питания
- Указание пищевых аллергий и предпочтений
- Оставление отзывов о блюдах
- Получение уведомлений

### Для повара
- Авторизация в системе
- Учет выданных завтраков и обедов
- Контроль остатков продуктов и готовых блюд
- Внесение заявок на закупку продуктов
- Получение уведомлений

### Для администратора
- Авторизация в системе
- Просмотр статистики оплат и посещаемости
- Согласование заявок на закупки
- Формирование отчетов по питанию и затратам
- Управление пользователями и ролями

## Структура проекта

```
project/
├── backend/              # Node.js + Express сервер
├── frontend/             # React приложение
├── database/             # SQL миграции и скрипты
├── docker-compose.yml    # Конфигурация контейнеров
├── .env.example          # Пример переменных окружения
└── README.md            # Этот файл
```

## Технический стек

- **Backend**: Node.js, Express, PostgreSQL
- **Frontend**: React, Redux (для управления состоянием)
- **Authentication**: JWT (JSON Web Tokens)
- **Security**: bcrypt для хеширования паролей, HTTPS
- **Deployment**: Docker, docker-compose

## Установка и запуск

### Требования
- Docker и Docker Compose
- Git
- Node.js 18+ (для локальной разработки)

### Развёртывание с Docker

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd project
```

2. Скопируйте файл переменных окружения:
```bash
cp .env.example .env
```

3. Запустите приложение:
```bash
docker-compose up -d --build
```

4. Приложение будет доступно:
   
   **На этом компьютере:**
   - Frontend: http://localhost:3000
   - API: http://localhost:5000
   
   **Из локальной сети (замените X.X на ваш IP):**
   - Frontend: http://192.168.1.XX:3000
   - API: http://192.168.1.XX:5000
   
   **Из интернета (используйте Cloudflare Tunnel):**
   ```bash
   cloudflared tunnel --url http://localhost:3000
   ```

### Локальная разработка

#### Backend

```bash
cd backend
npm install
npm start
```

#### Frontend

```bash
cd frontend
npm install
npm start
```

## Безопасность

- Все пароли хешируются с использованием bcrypt
- Платежные данные передаются через HTTPS
- JWT токены используются для аутентификации
- Валидация входных данных на клиенте и сервере
- CORS настроен для безопасности между доменами
- Регулярное логирование и мониторинг

## Разработка

### Git Workflow

1. Создайте ветку для вашей функции:
```bash
git checkout -b feature/description
```

2. Commit с понятными сообщениями:
```bash
git commit -m "Добавлена функция X"
```

3. Push и создайте Pull Request

### API Документация

API документация доступна по адресу `/api/docs` после запуска сервера.

## Лицензия

MIT
